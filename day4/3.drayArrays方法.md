### drawArrays

drawArrays() 方法用于从向量数组中绘制图元。

### 语法

```js
void gl.drawArrays(mode, first, count);
```

mode
GLenum (en-US) 类型，指定绘制图元的方式，可能值如下。

gl.POINTS: 绘制一系列点。
gl.LINE_STRIP: 绘制一个线条。即，绘制一系列线段，上一点连接下一点。
gl.LINE_LOOP: 绘制一个线圈。即，绘制一系列线段，上一点连接下一点，并且最后一点与第一个点相连。
gl.LINES: 绘制一系列单独线段。每两个点作为端点，线段之间不连接。
gl.TRIANGLE_STRIP：绘制一个三角带。
gl.TRIANGLE_FAN：绘制一个三角扇。
gl.TRIANGLES: 绘制一系列三角形。每三个点作为顶点。

first
GLint (en-US) 类型，指定从哪个点开始绘制。

count
GLsizei (en-US) 类型，指定绘制需要使用到多少个点。

### 线段的绘制说明

以六个点数据为例子, v0, v1,v2,v3,v4,v5,v6

- gl.LINES

绘制三条线度 v0-v1, v2-v3, v3-v4

- gl.LINE_STRIP (线条，非闭合)
  每两个点绘制一段

- gl.LINE_LOOP (线圈，点形成的闭合区域)

### 面的绘制说明

对于面的绘制，我们首先要知道一个原理：

- 面有正反两面。
- 面向我们的面，如果是正面，那它必然是逆时针绘制的；
- 面向我们的面，如果是反面，那它必然是顺时针绘制的；

* gl.TRIANGLES: 绘制一系列三角形。每三个点作为顶点。

* gl.TRIANGLE_STRIP：绘制一个三角带。

三角带是建模基础， 三角带的绘制是有规律的。先看下面这个图

![三角带的绘制](./imgs/%E4%B8%89%E8%A7%92%E5%B8%A6%E7%BB%98%E5%88%B6.png)

上面的四个三角面的绘制成三角带，而它们的绘制顺序如下

v0>v1>v2

v2>v1>v3, 以上一个三角形的第二条边+下一个点为基础，以和第二条边相反的方向绘制三角形

v2>v3>v4, 以上一个三角形的第三条边+下一个点为基础，以和第二条边相反的方向绘制三角形

v4>v3>v5, 以上一个三角形的第二条边+下一个点为基础，以和第二条边相反的方向绘制三角形

规律：

第一个三角形：v0>v1>v2

第偶数个三角形：以上一个三角形的第二条边+下一个点为基础，以和第二条边相反的方向绘制三角形

第奇数个三角形：以上一个三角形的第三条边+下一个点为基础，以和第二条边相反的方向绘制三角形

- gl.TRIANGLE_FAN：绘制一个三角扇。

三角扇的绘制比较好理解,如图

![三角扇](./imgs/%E4%B8%89%E8%A7%92%E6%89%87%E7%BB%98%E5%88%B6.png)

以一个点为中心，其他点围绕

上面四个面的绘制顺序是：

​ v0>v1>v2

​ v0>v2>v3, 以上一个三角形的第三条边+下一个点为基础，按照和第三条边相反的顺序，绘制三角形

​ v0>v3>v4, 以上一个三角形的第三条边+下一个点为基础，按照和第三条边相反的顺序，绘制三角形

​ v0>v4>v5, 以上一个三角形的第三条边+下一个点为基础，按照和第三条边相反的顺序，绘制三角形

注意顶点数量，与绘制的数量要一致，否则会报错

```js
// 6个顶点
const vertices = new Float32Array([
  0, 0, 0.1, 0.3, 0.1, 0.4, 0.1, 0.5, 0.1, 0.6, 0.1, 0.7,
]);
// 绘制数量超出
// gl.drawArrays(gl.TRIANGLE_STRIP, 0, 10); // 绘制11点
gl.drawArrays(gl.TRIANGLE_FAN, 0, 7); // 绘制8点

// gl.drawArrays(gl.TRIANGLE_FAN, 0, 6) // 绘制 7个点，这个不会报错
```

```txt
WebGL-0x100003d9c00] GL_INVALID_OPERATION: Vertex buffer is not big enough for the draw call
```

为什么绘制七个点的不会报错，因为，超出一个点后，会默认找原点 0,0补上。
超过两个点那么就会报错了。
